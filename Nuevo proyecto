{
  "project": "Script de Actualización para Debian",
  "author": "Joel Mutua",
  "course": "4Geeks Bootcamp",
  "date": "2023-11-15",
  "version": "1.0",
  "description": "Script automatizado para actualizar sistemas Debian que incluye actualización de paquetes, limpieza y verificación de reinicio",
  "script_name": "actualizar_debian.sh",
  "requirements": {
    "system": "Debian o derivados (Ubuntu, Mint, etc.)",
    "privileges": "root",
    "dependencies": "apt-get",
    "learnpack_requirements": [
      "Máquina virtual Debian",
      "LearnPack instalado",
      "Permisos de ejecución"
    ]
  },
  "script_content": [
    "#!/bin/bash",
    "",
    "# Script de actualización para sistemas Debian",
    "# Autor: Joel Mutua",
    "# Curso: 4Geeks Bootcamp",
    "# Fecha: $(date +%Y-%m-%d)",
    "# Versión: 1.0",
    "",
    "# Colores para la salida",
    "RED='\\033[0;31m'",
    "GREEN='\\033[0;32m'",
    "YELLOW='\\033[1;33m'",
    "NC='\\033[0m' # No Color",
    "",
    "# Verificar si el usuario es root",
    "if [ \"$(id -u)\" -ne 0 ]; then",
    "    echo -e \"${RED}Error: Este script debe ejecutarse como root.${NC}\"",
    "    echo -e \"Por favor, usa sudo o inicia sesión como root.\"",
    "    exit 1",
    "fi",
    "",
    "# Función para mostrar el progreso",
    "show_progress() {",
    "    echo -e \"${YELLOW}==> ${1}${NC}\"",
    "}",
    "",
    "# Función para manejar errores",
    "handle_error() {",
    "    echo -e \"${RED}Error durante: ${1}${NC}\"",
    "    echo -e \"${YELLOW}Consulta los mensajes anteriores para más detalles.${NC}\"",
    "    exit 1",
    "}",
    "",
    "# Encabezado del script",
    "echo -e \"${GREEN}\"",
    "echo \"============================================\"",
    "echo \"  Script de Actualización para Debian\"",
    "echo \"  Por: Joel Mutua - 4Geeks Bootcamp\"",
    "echo \"============================================\"",
    "echo -e \"${NC}\"",
    "",
    "# 1. Actualizar la lista de paquetes",
    "show_progress \"Actualizando lista de paquetes...\"",
    "apt-get update || handle_error \"apt-get update\"",
    "",
    "# 2. Actualizar paquetes instalados",
    "show_progress \"Actualizando paquetes instalados...\"",
    "apt-get upgrade -y || handle_error \"apt-get upgrade\"",
    "",
    "# 3. Actualizar distribución (versiones nuevas)",
    "show_progress \"Actualizando distribución (si hay nueva versión)...\"",
    "apt-get dist-upgrade -y || handle_error \"apt-get dist-upgrade\"",
    "",
    "# 4. Limpiar paquetes innecesarios",
    "show_progress \"Limpiando paquetes innecesarios...\"",
    "apt-get autoremove -y || handle_error \"apt-get autoremove\"",
    "apt-get autoclean || handle_error \"apt-get autoclean\"",
    "",
    "# 5. Comprobar si es necesario reiniciar",
    "if [ -f /var/run/reboot-required ]; then",
    "    echo -e \"${YELLOW}\"",
    "    echo \"============================================\"",
    "    echo \"  ¡Se requiere reinicio para completar las actualizaciones!\"",
    "    echo \"  Ejecuta: sudo reboot\"",
    "    echo \"============================================\"",
    "    echo -e \"${NC}\"",
    "fi",
    "",
    "# Mensaje final",
    "echo -e \"${GREEN}\"",
    "echo \"============================================\"",
    "echo \"  Actualización completada con éxito!\"",
    "echo \"============================================\"",
    "echo -e \"${NC}\"",
    "",
    "exit 0"
  ],
  "usage_instructions": [
    "1. Copiar este contenido a un archivo llamado actualizar_debian.sh",
    "2. Dar permisos de ejecución: chmod +x actualizar_debian.sh",
    "3. Ejecutar como root: sudo ./actualizar_debian.sh"
  ],
  "evaluation_criteria": {
    "functionality": [
      "Actualiza correctamente la lista de paquetes",
      "Ejecuta upgrades correctamente",
      "Realiza limpieza automática",
      "Detecta necesidad de reinicio"
    ],
    "code_quality": [
      "Manejo de errores adecuado",
      "Funciones bien estructuradas",
      "Comentarios explicativos",
      "Salida informativa al usuario"
    ]
  },
  "notes": [
    "Este script fue desarrollado como parte del 4Geeks Bootcamp",
    "Incluye todas las características requeridas para la actualización segura de sistemas Debian",
    "El código sigue las mejores prácticas de scripting Bash"
  ]
}
